# ROS2 ã‚»ãƒ³ã‚µãƒ¼æ¤œè¨¼ãƒ„ãƒ¼ãƒ«

ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å¥å…¨æ€§ç¢ºèªã€ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¤œè¨¼ã€ãƒ‡ãƒ¼ã‚¿å“è³ªè©•ä¾¡ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã‚¹ã‚­ãƒ«ã€‚

## å®Ÿè¡Œå†…å®¹

### 1. ã‚»ãƒ³ã‚µãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸€æ‹¬ç¢ºèª

#### ZED2iã‚«ãƒ¡ãƒ©
```bash
# ã‚«ãƒ¡ãƒ©ãƒãƒ¼ãƒ‰ç¢ºèª
ros2 node info /zed/zed_node

# ç”»åƒãƒˆãƒ”ãƒƒã‚¯ç¢ºèª
ros2 topic hz /zed/zed_node/left/image_rect_color
ros2 topic hz /zed/zed_node/right/image_rect_color
ros2 topic hz /zed/zed_node/depth/depth_registered

# Visual Odometryç¢ºèª
ros2 topic hz /zed/zed_node/odom
ros2 topic echo /zed/zed_node/pose --once

# IMUç¢ºèª
ros2 topic hz /zed/zed_node/imu/data
ros2 topic echo /zed/zed_node/imu/data --once

# ãƒã‚¤ãƒ³ãƒˆã‚¯ãƒ©ã‚¦ãƒ‰ç¢ºèª
ros2 topic hz /zed/zed_node/point_cloud/cloud_registered
```

#### LiDARï¼ˆå‰å¾Œ2å°ï¼‰
```bash
# å‰æ–¹LiDAR
ros2 topic hz /front_scan
ros2 topic echo /front_scan --once | grep -E "angle_min|angle_max|range_min|range_max"

# å¾Œæ–¹LiDAR
ros2 topic hz /back_scan
ros2 topic echo /back_scan --once | grep -E "angle_min|angle_max|range_min|range_max"

# ãƒãƒ¼ã‚¸æ¸ˆã¿ã‚¹ã‚­ãƒ£ãƒ³
ros2 topic hz /merged_scan
ros2 topic hz /merged_scan_filtered

# ã‚¹ã‚­ãƒ£ãƒ³ç‚¹æ•°ç¢ºèª
ros2 topic echo /merged_scan --once | grep "ranges:" | wc -w
```

#### IMUï¼ˆZEDå†…è”µï¼‰
```bash
# IMUãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ¼ãƒˆ
ros2 topic hz /zed/zed_node/imu/data

# IMUå€¤ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯ï¼ˆç•°å¸¸å€¤æ¤œå‡ºï¼‰
ros2 topic echo /zed/zed_node/imu/data --once
# angular_velocity: Â±10 rad/sä»¥å†…
# linear_acceleration: Â±20 m/sÂ²ä»¥å†…
```

### 2. ã‚»ãƒ³ã‚µãƒ¼ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¤œè¨¼

#### TFå¤‰æ›ã®æ­£ç¢ºæ€§ç¢ºèª
```bash
# LiDARé–“ã®è·é›¢ç¢ºèª
ros2 run tf2_ros tf2_echo zed_camera_link front_lidar
ros2 run tf2_ros tf2_echo zed_camera_link back_lidar

# æœŸå¾…å€¤ã¨ã®æ¯”è¼ƒ
# back_lidar: X=-0.296m, Z=-0.03m, pitch=180Â°
```

#### ã‚«ãƒ¡ãƒ©å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç¢ºèª
```bash
# ã‚«ãƒ¡ãƒ©æƒ…å ±å–å¾—
ros2 topic echo /zed/zed_node/left/camera_info --once
ros2 topic echo /zed/zed_node/right/camera_info --once

# ç¢ºèªé …ç›®:
# - è§£åƒåº¦ (width, height)
# - ç„¦ç‚¹è·é›¢ (fx, fy)
# - ä¸»ç‚¹ (cx, cy)
# - æ­ªã¿ä¿‚æ•° (D)
```

#### ã‚¹ãƒ†ãƒ¬ã‚ªãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ç¢ºèª
```bash
# å·¦å³ã‚«ãƒ¡ãƒ©é–“ã®è·é›¢
ros2 run tf2_ros tf2_echo zed_left_camera_optical_frame zed_right_camera_optical_frame
# æœŸå¾…å€¤: ç´„0.12m (ZED2iã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³)
```

### 3. ãƒ‡ãƒ¼ã‚¿å“è³ªè©•ä¾¡

#### LiDARã‚¹ã‚­ãƒ£ãƒ³å“è³ª
```bash
# ç‚¹ç¾¤å¯†åº¦ãƒã‚§ãƒƒã‚¯
ros2 topic echo /merged_scan --once | grep -o "ranges:" | wc -l

# æœ‰åŠ¹ãƒ¬ãƒ³ã‚¸ç‡
# infå€¤ï¼ˆç„¡åŠ¹ç‚¹ï¼‰ã®å‰²åˆã‚’è¨ˆç®—
# æœŸå¾…: 80%ä»¥ä¸ŠãŒæœ‰åŠ¹ãªæ¸¬å®šå€¤

# ãƒã‚¤ã‚ºãƒ¬ãƒ™ãƒ«è©•ä¾¡
# é€£ç¶šã‚¹ã‚­ãƒ£ãƒ³é–“ã®å·®åˆ†ã‚’è¨ˆç®—
# æœŸå¾…: é™æ­¢æ™‚ã®æ¨™æº–åå·® < 5cm
```

#### ã‚«ãƒ¡ãƒ©ç”»è³ªè©•ä¾¡
```bash
# éœ²å‡ºãƒ»ã‚²ã‚¤ãƒ³ç¢ºèª
ros2 param get /zed/zed_node exposure
ros2 param get /zed/zed_node gain

# ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ‰ãƒ­ãƒƒãƒ—ç¢ºèª
# æœŸå¾…é…ä¿¡ãƒ¬ãƒ¼ãƒˆ: 15-30 Hz
# å®Ÿæ¸¬ãƒ¬ãƒ¼ãƒˆã¨ã®æ¯”è¼ƒ
```

#### Visual Odometryç²¾åº¦
```bash
# VOå“è³ªæŒ‡æ¨™ç¢ºèª
ros2 topic echo /zed/zed_node/odom --once | grep covariance

# å…±åˆ†æ•£è¡Œåˆ—ã®ç¢ºèª
# å¯¾è§’æˆåˆ†ãŒå°ã•ã„ = é«˜ç²¾åº¦
# æœŸå¾…: ä½ç½® < 0.01, å§¿å‹¢ < 0.1
```

### 4. ã‚»ãƒ³ã‚µãƒ¼åŒæœŸç¢ºèª

#### ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä¸€è²«æ€§
```bash
# å„ã‚»ãƒ³ã‚µãƒ¼ã®æ™‚åˆ»åŒæœŸç¢ºèª
ros2 topic echo /front_scan --once | grep stamp
ros2 topic echo /zed/zed_node/odom --once | grep stamp
ros2 topic echo /zed/zed_node/imu/data --once | grep stamp

# tf_sync_coordinatorã®å‹•ä½œç¢ºèª
ros2 node info /tf_sync_coordinator
```

#### TF-TopicåŒæœŸæ¤œè¨¼
```bash
# TFé…å»¶æ¸¬å®š
ros2 run tf2_ros tf2_monitor

# åŒæœŸè¨±å®¹èª¤å·®å†…ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
# è¨­å®šå€¤: 5.0ç§’ä»¥å†…
```

### 5. ç•°å¸¸æ¤œå‡º

#### ã‚»ãƒ³ã‚µãƒ¼æ•…éšœæ¤œå‡º
- **ç—‡çŠ¶**: ãƒˆãƒ”ãƒƒã‚¯é…ä¿¡åœæ­¢
- **æ¤œå‡º**: `ros2 topic hz`ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
- **å¯¾å‡¦**: ãƒãƒ¼ãƒ‰å†èµ·å‹•ã¾ãŸã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç¢ºèª

#### ãƒ‡ãƒ¼ã‚¿ç•°å¸¸æ¤œå‡º
- **LiDAR**: å…¨ç‚¹ãŒinfï¼ˆãƒ¬ãƒ¼ã‚¶ãƒ¼æ•…éšœï¼‰
- **ã‚«ãƒ¡ãƒ©**: çœŸã£é»’/çœŸã£ç™½ç”»åƒï¼ˆéœ²å‡ºç•°å¸¸ï¼‰
- **IMU**: å€¤ãŒå›ºå®šï¼ˆã‚»ãƒ³ã‚µãƒ¼åœæ­¢ï¼‰

#### ç‰©ç†çš„é…ç½®ç•°å¸¸æ¤œå‡º
- **LiDARä¸‹å‘ãå•é¡Œ**:
  - ç—‡çŠ¶: åœ°é¢ãƒã‚¤ã‚ºãŒå¤šã„ã€å£é¢ã‚’æ‰ãˆãªã„
  - æ¤œå‡º: ã‚¹ã‚­ãƒ£ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ï¼ˆRViz2ï¼‰
  - å¯¾å‡¦: LiDARã®å–ã‚Šä»˜ã‘è§’åº¦ã‚’ç‰©ç†çš„ã«èª¿æ•´

### 6. ã‚»ãƒ³ã‚µãƒ¼ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

å…¨ã‚»ãƒ³ã‚µãƒ¼ã®çŠ¶æ…‹ã‚’çµ±åˆãƒ¬ãƒãƒ¼ãƒˆåŒ–ï¼š

```
ğŸ“Š ã‚»ãƒ³ã‚µãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¬ãƒãƒ¼ãƒˆ
ç”Ÿæˆæ—¥æ™‚: 2025-10-19 14:23:45

ã€ZED2iã‚«ãƒ¡ãƒ©ã€‘
âœ… å·¦ã‚«ãƒ¡ãƒ©: 30.0 Hz, è§£åƒåº¦ 1280x720
âœ… å³ã‚«ãƒ¡ãƒ©: 30.0 Hz, è§£åƒåº¦ 1280x720
âœ… æ·±åº¦: 15.0 Hz
âœ… Visual Odometry: 16.0 Hz, å…±åˆ†æ•£ 0.008
âœ… IMU: 400.0 Hz, ç¯„å›²æ­£å¸¸

ã€LiDARã€‘
âœ… å‰æ–¹: 15.2 Hz, ç‚¹æ•° 450, æœ‰åŠ¹ç‡ 87%
âœ… å¾Œæ–¹: 15.1 Hz, ç‚¹æ•° 448, æœ‰åŠ¹ç‡ 89%
âœ… ãƒãƒ¼ã‚¸: 15.0 Hz, ç‚¹æ•° 898
âš ï¸  è­¦å‘Š: åœ°é¢ãƒã‚¤ã‚ºæ¤œå‡º (5%) - LiDARè§’åº¦ç¢ºèªæ¨å¥¨

ã€TFåŒæœŸã€‘
âœ… map â†’ zed_odom: 50.2 Hz
âœ… zed_odom â†’ zed_camera_link: 16.0 Hz
âœ… TF-TopicåŒæœŸ: æ­£å¸¸ (é…å»¶ 0.12ç§’)

ã€ç·åˆè©•ä¾¡ã€‘
ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: æ­£å¸¸ (1ä»¶ã®è­¦å‘Šã‚ã‚Š)
```

## å‡ºåŠ›å½¢å¼

```
ğŸ” ã‚»ãƒ³ã‚µãƒ¼æ¤œè¨¼é–‹å§‹

ğŸ“¡ ZED2iã‚«ãƒ¡ãƒ©æ¤œè¨¼ä¸­...
  âœ… ç”»åƒé…ä¿¡: 30.0 Hz
  âœ… Visual Odometry: 16.0 Hz (é«˜ç²¾åº¦)
  âœ… IMU: 400.0 Hz

ğŸ“¡ LiDARæ¤œè¨¼ä¸­...
  âœ… å‰æ–¹LiDAR: 15.2 Hz (450ç‚¹, 87%æœ‰åŠ¹)
  âœ… å¾Œæ–¹LiDAR: 15.1 Hz (448ç‚¹, 89%æœ‰åŠ¹)
  âš ï¸  åœ°é¢ãƒã‚¤ã‚ºæ¤œå‡º - å–ã‚Šä»˜ã‘è§’åº¦è¦ç¢ºèª

ğŸ”— TFåŒæœŸæ¤œè¨¼ä¸­...
  âœ… å…¨TFé…ä¿¡æ­£å¸¸
  âœ… ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—åŒæœŸæ­£å¸¸

ğŸ“‹ è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆä¿å­˜: /tmp/sensor_report_20251019_142345.txt
```

## ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°

- ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•å¾Œã®åˆæœŸç¢ºèª
- ã‚»ãƒ³ã‚µãƒ¼ç•°å¸¸ç–‘ã„æ™‚
- ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã®æ¤œè¨¼
- å®šæœŸçš„ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- **åœ°å›³ç”Ÿæˆå‰ã®å¿…é ˆç¢ºèª**

## ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›åŠ¹æœ

**å¾“æ¥**: å„ã‚»ãƒ³ã‚µãƒ¼å€‹åˆ¥ç¢ºèª â†’ ãƒ‡ãƒ¼ã‚¿è§£é‡ˆ â†’ å•é¡Œè¨ºæ–­ (ç´„4000ãƒˆãƒ¼ã‚¯ãƒ³)
**Skillsä½¿ç”¨å¾Œ**: ä¸€æ‹¬æ¤œè¨¼ â†’ çµ±åˆãƒ¬ãƒãƒ¼ãƒˆ â†’ ç•°å¸¸è‡ªå‹•æ¤œå‡º (ç´„700ãƒˆãƒ¼ã‚¯ãƒ³)
**å‰Šæ¸›ç‡**: ç´„82%

## é«˜åº¦ãªæ©Ÿèƒ½

### æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿åˆ†æ
ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å±¥æ­´ã‚’è¨˜éŒ²ã—ã€ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

### è‡ªå‹•ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ”¯æ´
ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹é †ã®ã‚¬ã‚¤ãƒ‰ã¨çµæœæ¤œè¨¼

### ã‚»ãƒ³ã‚µãƒ¼ãƒ•ãƒ¥ãƒ¼ã‚¸ãƒ§ãƒ³å“è³ªè©•ä¾¡
è¤‡æ•°ã‚»ãƒ³ã‚µãƒ¼ã®æ•´åˆæ€§ã‚’çµ±è¨ˆçš„ã«è©•ä¾¡
